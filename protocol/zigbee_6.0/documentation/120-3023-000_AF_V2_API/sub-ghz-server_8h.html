<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Application Framework API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td><img src="SiliconLabsLogo_Black.jpg" style="padding: 10px;width:40%;height:40%;" /></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Application Framework API Reference
   &#160;<span id="projectnumber">Application Framework V2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div><!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sub-ghz-server_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sub-ghz-server.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="sub-ghz-server_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab0ee9d3c5ab805f3dc28b0d6aa3ad716"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ember__types.html#gacff561a945530f3039d6715958418ab8">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub-ghz-server_8h.html#ab0ee9d3c5ab805f3dc28b0d6aa3ad716">emberAfPluginSubGhzServerSendSuspendZclMessagesCommand</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> nodeId, uint8_t endpoint, uint8_t period)</td></tr>
<tr class="separator:ab0ee9d3c5ab805f3dc28b0d6aa3ad716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1bdaa5f80220f8f91dd6d8ad9a07a1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub-ghz-server_8h.html#a0b1bdaa5f80220f8f91dd6d8ad9a07a1">emberAfPluginSubGhzServerSuspendZclMessagesStatus</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> nodeId)</td></tr>
<tr class="separator:a0b1bdaa5f80220f8f91dd6d8ad9a07a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e94a6151078cdd4937f06186ed8fec2"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub-ghz-server_8h.html#a9e94a6151078cdd4937f06186ed8fec2">emAfSubGhzServerIncomingMessage</a> (<a class="el" href="group__ember__types.html#ga42567c6bfd58e0161e3c660f99f455da">EmberIncomingMessageType</a> type, <a class="el" href="structEmberApsFrame.html">EmberApsFrame</a> *apsFrame, <a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> sender, uint16_t messageLength, uint8_t *messageContents)</td></tr>
<tr class="separator:a9e94a6151078cdd4937f06186ed8fec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb14559556485fdd52a2c91aadcb994"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub-ghz-server_8h.html#afcb14559556485fdd52a2c91aadcb994">emAfSubGhzServerZDOMessageReceivedCallback</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> sender, const uint8_t *message, uint16_t length)</td></tr>
<tr class="separator:afcb14559556485fdd52a2c91aadcb994"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab0ee9d3c5ab805f3dc28b0d6aa3ad716"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ember__types.html#gacff561a945530f3039d6715958418ab8">EmberStatus</a> emberAfPluginSubGhzServerSendSuspendZclMessagesCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the 'Suspend ZCL Messages' command. </p>
<p>This is a server command. The server sends it to temporarily suspend ZCL messages from clients it identifies as causing too much traffic. It is also sent in response to the 'Get Suspend ZCL Messages Status' command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodeId</td><td>.... client's node ID </td></tr>
    <tr><td class="paramname">endpoint</td><td>.. client's endpoint (ignored, backwards compatibility only) </td></tr>
    <tr><td class="paramname">period</td><td>.... suspension period in minutes</td></tr>
  </table>
  </dd>
</dl>
<p>Note: If endpoint == 0, the framework will choose the suitable endpoint based on the past communication with the given node. If GetSuspendZclMessagesStatus has never been received by the server, then the server will not know which enpoint implements the Sub-GHz Client and will default to endpoint 1. The application can "teach" the server the client endpoint by discovering the Sub-GHz clients and call this function for each of them with period == 0. </p>

</div>
</div>
<a class="anchor" id="a0b1bdaa5f80220f8f91dd6d8ad9a07a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t emberAfPluginSubGhzServerSuspendZclMessagesStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>nodeId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current suspend status for a given client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodeId</td><td>.... client's node ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of seconds remaining; 0 = not suspended </dd></dl>

</div>
</div>
<a class="anchor" id="a9e94a6151078cdd4937f06186ed8fec2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean emAfSubGhzServerIncomingMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga42567c6bfd58e0161e3c660f99f455da">EmberIncomingMessageType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structEmberApsFrame.html">EmberApsFrame</a> *&#160;</td>
          <td class="paramname"><em>apsFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>messageLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>messageContents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An incoming message handler. </p>
<p>Used to handle the any incoming message from clients. Based on the Duty Cycle stae, client's ID (has the client been suspended?) and the message type, determines the right action, which could be one of:</p><ul>
<li>let the message through to allow the framework to process it further;</li>
<li>respond with 'Suspend ZCL Messages' and suppress this message</li>
<li>suppress the message silently</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>true if the message has been processed by the Sub-GHz plugin and should be suppressed, false to allow the message through </dd></dl>

</div>
</div>
<a class="anchor" id="afcb14559556485fdd52a2c91aadcb994"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emAfSubGhzServerZDOMessageReceivedCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Incoming ZDO message handler. </p>
<p>Used to handle the incoming Mgmt_NWK_Unsolicited_Enhanced_Update_notify command. Calls the user's emberAfPluginSubGhzUnsolicitedEnhancedUpdateNotifyCallback in response. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr size="1">
<table border="0" cellspacing="0" cellpadding="0" width=100%>
<tr>
<td><address><small>
Application Framework API Reference. Application Framework V2.
</small></address>
</td>
<td align="right">
<address><small>
</small></address>
</td>
</tr>
</table>
</body>
</html>

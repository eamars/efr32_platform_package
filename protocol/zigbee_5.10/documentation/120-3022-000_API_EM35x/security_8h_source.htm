<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>EmberZNet API Reference: For the EM35x SoC Platform</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td><img src="SiliconLabsLogo_Black.jpg" style="padding: 10px;width:40%;height:40%;" /></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">EmberZNet API Reference: For the EM35x SoC Platform
   &#160;<span id="projectnumber">EmberZNet 5.10.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('security_8h_source.htm','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">security.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="security_8h.htm">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trust-center_8h.htm" title="EmberZNet security API See Security for documentation.">stack/include/trust-center.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga124d62dd7d3d15d2fcffae92c5bcdda6" title="This function sets the initial security state that will be used by the device when it forms or joins ...">emberSetInitialSecurityState</a>(<a class="code" href="structEmberInitialSecurityState.htm" title="This describes the Initial Security features and requirements that will be used when forming or joini...">EmberInitialSecurityState</a>* state);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#gaeb55de1f2d7bba5111d1e721a00e810c" title="Sets the extended initial security bitmask.">emberSetExtendedSecurityBitmask</a>(<a class="code" href="group__ember__types.htm#ga753acda7a446dffa3629ef3cfde83406" title="This is the Extended Security Bitmask that controls the use of various extended security features...">EmberExtendedSecurityBitmask</a> mask);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga0b4fdd2f16993c8e94c9e1c4ac83abd0" title="Gets the extended security bitmask that is being used by a device.">emberGetExtendedSecurityBitmask</a>(<a class="code" href="group__ember__types.htm#ga753acda7a446dffa3629ef3cfde83406" title="This is the Extended Security Bitmask that controls the use of various extended security features...">EmberExtendedSecurityBitmask</a>* mask);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="group__security.htm#ga5565ff94a7c51cee298f916a2ed1d785">   90</a></span>&#160;<span class="preprocessor">#define EMBER_JOIN_NO_PRECONFIG_KEY_BITMASK \</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">  (EMBER_STANDARD_SECURITY_MODE             \</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">   | EMBER_GET_LINK_KEY_WHEN_JOINING)</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="code" href="group__security.htm#gaee4c00e396136d93e7b4c8683a03b8f6">  100</a></span>&#160;<span class="preprocessor">#define EMBER_JOIN_PRECONFIG_KEY_BITMASK \</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">  (EMBER_STANDARD_SECURITY_MODE          \</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">   | EMBER_HAVE_PRECONFIGURED_KEY        \</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">   | EMBER_REQUIRE_ENCRYPTED_KEY)</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga853ccef64bd231ac153a86f5ba226c3f" title="Gets the security state that is being used by a device joined into the Network.">emberGetCurrentSecurityState</a>(<a class="code" href="structEmberCurrentSecurityState.htm" title="This describes the security features used by the stack for a joined device.">EmberCurrentSecurityState</a>* state);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga4352dea1936fc63d9dbb01cf1563f627" title="Gets the specified key and its associated data. This can retrieve the Trust Center Link Key...">emberGetKey</a>(<a class="code" href="group__ember__types.htm#ga758a38c1be7657d280aaadd6d0b2b0e7" title="This denotes the type of security key.">EmberKeyType</a> type,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                        <a class="code" href="structEmberKeyStruct.htm" title="This describes a one of several different types of keys and its associated data.">EmberKeyStruct</a>* keyStruct);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group__security.htm#gacf94d746a9fda50d7e252335885112a8" title="Returns true if a link key is available for securing messages sent to the remote device.">emberHaveLinkKey</a>(<a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> remoteDevice);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#ifndef DOXYGEN_SHOULD_SKIP_THIS</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor"></span><span class="keyword">extern</span> uint8_t emberKeyTableSize;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">extern</span> uint32_t* emIncomingApsFrameCounters;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#gad9cc75612b16f5391f86c308cae826ea" title="Generates a Random Key (link, network, or master) and returns the result.">emberGenerateRandomKey</a>(<a class="code" href="structEmberKeyData.htm" title="This data structure contains the key data that is passed into various other functions.">EmberKeyData</a>* keyAddress);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__security.htm#ga35166d6c14de73e3e9eccc342f49899d" title="A callback to inform the application that the Network Key has been updated and the node has been swit...">emberSwitchNetworkKeyHandler</a>(uint8_t sequenceNumber);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga3381d7f9a9ea77d4530a1b3770b692ed" title="A function to request a Link Key from the Trust Center with another device device on the Network (whi...">emberRequestLinkKey</a>(<a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> partner);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__security.htm#ga7e14014ee46c34362cc6b91869a208ef" title="A callback to the application to notify it of the status of the request for a Link Key...">emberZigbeeKeyEstablishmentHandler</a>(<a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> partner, <a class="code" href="group__ember__types.htm#ga023e020a774781d0819dd1684c9962e1" title="This denotes the status of an attempt to establish a key with another device.">EmberKeyStatus</a> status);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga0192a43313f8fbf18ea01a3e7e152340" title="A function used to obtain data from the Key Table. On the 35x series chips, the data returned by this...">emberGetKeyTableEntry</a>(uint8_t index,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                  <a class="code" href="structEmberKeyStruct.htm" title="This describes a one of several different types of keys and its associated data.">EmberKeyStruct</a>* result);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#if defined DOXYGEN_SHOULD_SKIP_THIS</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor"></span><a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#gab10970d168444b6fac70c7d45cb198af" title="A function to set an entry in the key table.">emberSetKeyTableEntry</a>(uint8_t index,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                  <a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> address,</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                  <span class="keywordtype">bool</span> linkKey,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                  <a class="code" href="structEmberKeyData.htm" title="This data structure contains the key data that is passed into various other functions.">EmberKeyData</a>* keyData);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor"></span><a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> emSetKeyTableEntry(<span class="keywordtype">bool</span> erase,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                               uint8_t index,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                               <a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> address,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                               <a class="code" href="structEmberKeyData.htm" title="This data structure contains the key data that is passed into various other functions.">EmberKeyData</a>* keyData);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#define emberSetKeyTableEntry(index, address, linkKey, keyData) \</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">  ((void) linkKey, emSetKeyTableEntry(false, index, address, keyData))</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga142524b9b3f6177e6dab19554d048755" title="This function add a new entry in the key table or updates an existing entry with a new key...">emberAddOrUpdateKeyTableEntry</a>(<a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> address,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                          <span class="keywordtype">bool</span> linkKey,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                          <a class="code" href="structEmberKeyData.htm" title="This data structure contains the key data that is passed into various other functions.">EmberKeyData</a>* keyData);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;uint8_t <a class="code" href="group__security.htm#ga102bbc4bb8c2ab0e4c42a922e3629448" title="A function to search the key table and find an entry matching the specified IEEE address and key type...">emberFindKeyTableEntry</a>(<a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> address,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                               <span class="keywordtype">bool</span> linkKey);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#if defined DOXYGEN_SHOULD_SKIP_THIS</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor"></span><a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#gaf56219030cac5337be5ee6e54ad355b2" title="A function to clear a single entry in the key table.">emberEraseKeyTableEntry</a>(uint8_t index);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define emberEraseKeyTableEntry(index) \</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">  emSetKeyTableEntry(true, (index), NULL, NULL)</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga696062844e62d39f1b66de050ef668ab" title="This function clears the key table of the current network.">emberClearKeyTable</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga74b8d6a8f9f9b02e8e0fc22d8423691e" title="This function suppresses normal write operations of the stack tokens. This is only done in rare circu...">emberStopWritingStackTokens</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga7c55d078535d60435535833d5904503d" title="This function will immediately write the value of stack tokens and then resume normal network operati...">emberStartWritingStackTokens</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group__security.htm#gabd236fba398a490900a9ae36b0b9f26d" title="This function will determine whether stack tokens will be written to persistent storage when they cha...">emberWritingStackTokensEnabled</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga6709a05c3b03ecfb1914b4a0e21ddf72" title="This function performs APS encryption/decryption of messages directly. Normally the stack handles all...">emberApsCryptMessage</a>(<span class="keywordtype">bool</span> encrypt,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                 <a class="code" href="group__ember__types.htm#gad8cef59e716103f3996ce6cb7e10b017" title="Incoming and outgoing messages are stored in buffers. These buffers are allocated and freed as needed...">EmberMessageBuffer</a> buffer,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                 uint8_t apsHeaderEndIndex,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                 <a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> remoteEui64);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga3188bfcc1faeed54a05ce0f5b6d9b26f" title="This function will retrieve the security configuration stored in manufacturing tokens. It is only available on the 35x series. See emberSetMfgSecurityConfig() for more details.">emberGetMfgSecurityConfig</a>(<a class="code" href="structEmberMfgSecurityStruct.htm" title="This structure is used to get/set the security config that is stored in manufacturing tokens...">EmberMfgSecurityStruct</a>* settings);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#gaab02540e7f12d04e23f6691a7de15687" title="This function will set the security configuration to be stored in manufacturing tokens. It is only available on the 35x series. This API must be called with care. Once set, a manufacturing token CANNOT BE UNSET without using the ISA3 tools and connecting the chip via JTAG. Additionally, a chip with read protection enabled cannot have its configuration changed without a full chip erase. Thus this provides a way to disallow access to the keys at runtime that cannot be undone.">emberSetMfgSecurityConfig</a>(uint32_t magicNumber,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="structEmberMfgSecurityStruct.htm" title="This structure is used to get/set the security config that is stored in manufacturing tokens...">EmberMfgSecurityStruct</a>* settings);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">#if defined DOXYGEN_SHOULD_SKIP_THIS</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor"></span><a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#gaed8603abfdd53070fe39880ad50b73c8" title="Function to set NWK layer outgoing frame counter (intended for device restoration purposes)...">emberSetOutgoingNwkFrameCounter</a>(uint32_t desiredValue);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor"></span><span class="preprocessor">  #define emberSetOutgoingNwkFrameCounter(desiredValue) \</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">  emSetFrameCounter(EMBER_CURRENT_NETWORK_KEY, desiredValue)</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="preprocessor">#if defined DOXYGEN_SHOULD_SKIP_THIS</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="preprocessor"></span><a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#gabc394b03f8e4b6d729cc4fce1444ff80" title="Function to set APS layer outgoing frame counter for Trust Center Link Key (intended for device resto...">emberSetOutgoingApsFrameCounter</a>(uint32_t desiredValue);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor"></span><span class="preprocessor">  #define emberSetOutgoingApsFrameCounter(desiredValue) \</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor">  emSetFrameCounter(EMBER_TRUST_CENTER_LINK_KEY, desiredValue)</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> emSetFrameCounter(<a class="code" href="group__ember__types.htm#ga758a38c1be7657d280aaadd6d0b2b0e7" title="This denotes the type of security key.">EmberKeyType</a> keyType,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                              uint32_t desiredValue);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga2279f8c3417e59f63e44de94cbae8629" title="Add a temporary link key for a joining device. The link key will be stored for emberTransientKeyTimeo...">emberAddTransientLinkKey</a>(<a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> partnerEUI64,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                     <a class="code" href="structEmberKeyData.htm" title="This data structure contains the key data that is passed into various other functions.">EmberKeyData</a> *key);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<a class="code" href="group__ember__types.htm#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> <a class="code" href="group__security.htm#ga187180ec2e41bf464b85aa981c3be2a3" title="Get the transient link key for a device. This function searches the transient key table for an entry ...">emberGetTransientLinkKey</a>(<span class="keyword">const</span> <a class="code" href="group__ember__types.htm#ga21de0cf5f8f6730bc3be6c7ec2b82050" title="EUI 64-bit ID (an IEEE address).">EmberEUI64</a> eui,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                                     <a class="code" href="structEmberTransientKeyData.htm" title="This data structure contains the transient key data that is used during zigbee 3.0 joining...">EmberTransientKeyData</a> *transientKeyData);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__security.htm#gaaec01a95d5514e2264b1a12294255cfe" title="Clear all of the transient link keys from RAM.">emberClearTransientLinkKeys</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="keyword">extern</span> uint16_t <a class="code" href="group__security.htm#gad998db8a61b90cb1d17949f6b0ee4c6c" title="The length of time, in seconds, that a trust center will store a transient link key that a device can...">emberTransientKeyTimeoutS</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">/* @brief Keyed hash function for message authentication</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> * This is HMAC (see FIPS PUB 198) using the AES hash.  HMAC is a</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> * method for computing a hash from a key and a data message using</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> * a message-only hash function.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__security.htm#ga66e180afe44e7f8eac1a36a985ee9777">emberHmacAesHash</a>(<span class="keyword">const</span> uint8_t *key,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                      <span class="keyword">const</span> uint8_t *data,</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                      uint8_t dataLength,</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                      uint8_t *result);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">/* return the (security framecounter) */</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;uint32_t <a class="code" href="group__security.htm#ga03f76fa0f9df9a1344bf8c41fde7a4f6">emberGetSecurityFrameCounter</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;uint32_t <a class="code" href="group__security.htm#ga8a801bba33cfebbf9866ed0469c7e751">emberGetApsFrameCounter</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;uint32_t <a class="code" href="group__security.htm#gac50e411a6bcf40afafb2d8a91a863a30">emberGetIncomingTCLinkKeyFrameCounter</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__security.htm#ga99a35fb6d43f9dc1dfc9b708eff8f631">emberSetIncomingTCLinkKeyFrameCounter</a>(uint32_t framecounter);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">// @} END addtogroup</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr size="1">
<table border="0" cellspacing="0" cellpadding="0" width=100%>
<tr>
<td><address><small>
EmberZNet API Reference: For the EM35x SoC Platform. EmberZNet 5.10.1.0.
</small></address>
</td>
<td align="right">
<address><small>
</small></address>
</td>
</tr>
</table>
</body>
</html>
